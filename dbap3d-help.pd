#N canvas 198 95 1016 571 10;
#N canvas 0 22 450 278 (subpatch) 0;
#X array spk-gain-src-1 8 float 3;
#A 0 0.216123 0.286874 0.224359 0.30703 0.27023 0.474786 0.286874 0.587917
;
#X coords 0 1.1 8 0 200 140 1 0 0;
#X restore 20 272 graph;
#X floatatom 226 76 5 0 0 0 - - -;
#X floatatom 261 77 5 0 0 0 - - -;
#X obj 260 95 t b f;
#X obj 226 147 list prepend 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array spk-gain-src-2 8 float 3;
#A 0 0.712914 0.312317 0.312317 0.232267 0.312317 0.232267 0.232267
0.193092;
#X coords 0 1.1 8 0 200 140 1 0 0;
#X restore 233 271 graph;
#N canvas 0 22 450 300 send-to-arrays 0;
#X obj 85 26 inlet;
#X obj 85 107 unpack 0 0;
#X obj 85 58 route 0 1;
#X msg 85 85 \$2 \$1;
#X obj 81 150 tabwrite spk-gain-src-1;
#X obj 239 106 unpack 0 0;
#X msg 239 84 \$2 \$1;
#X obj 235 149 tabwrite spk-gain-src-2;
#X text 131 26 <src> <spk> <gain>;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 1 1 4 1;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 3 0 1 0;
#X connect 5 0 7 0;
#X connect 5 1 7 1;
#X connect 6 0 5 0;
#X restore 24 153 pd send-to-arrays;
#X text 82 101 arg: nr of sources;
#X floatatom 386 81 5 0 0 0 - - -;
#X floatatom 421 82 5 0 0 0 - - -;
#X obj 421 101 t b f;
#X obj 386 152 list prepend 1;
#X text 231 58 ctl source 0;
#X text 386 60 ctl source 1;
#X msg 547 91 radius \$1;
#X text 620 95 spatial blur;
#X text 617 80 also called;
#X floatatom 547 73 5 0 0 0 - - -;
#X text 546 318 DEFINE SPEAKER POSITIONS;
#X text 24 171 spk gain outlet;
#X text 28 185 use with cyclone/matrix~;
#X obj 545 473 s dbap;
#X obj 547 113 s dbap;
#X obj 386 174 s dbap;
#X obj 226 169 s dbap;
#X obj 24 79 r dbap;
#X text 54 202 -> see AUDIO-DEMO;
#X msg 552 250 om \$1;
#X obj 552 176 vradio 15 1 0 4 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X text 574 176 0-normalize output coords;
#X text 573 190 1-dont normalize output coords 'sharper' than om 0
;
#X text 574 204 2-use box clipping & normalize;
#X text 574 219 3-use box clipping & dont normalize;
#X text 543 52 SOURCE RADIUS;
#X obj 552 273 s dbap;
#X text 51 457 have a look at the paper;
#X text 58 488 DBAP - DISTANCE-BASED AMPLITUDE PANNING \, ICMC 2009
;
#X text 56 472 Trond Lossius \, Pascal Baltazar \, Theo de la Hogue
;
#X text 38 11 external by AndrÃ© Sier - http://www.s373.net;
#X text 38 27 Pd port by Matthias Kronlachner \, 2013;
#X text 272 42 CONTROL SOURCE POSITION;
#X obj 545 427 loadbang;
#X text 632 278 but without complex hull \, uses just a box around
the rig;
#X text 629 243 om2 and 3 deal "better" with sources outside the speaker
rig (see DBAP paper section 2.3.);
#X text 29 239 DISPLAY SPEAKER GAINS;
#X text 548 156 SET OUTPUT MODE (speaker gain computation mode);
#N canvas 746 354 444 297 MORE-PARAMETERS 1;
#X text 90 225 there are many more parameters to set...;
#X text 169 246 this has to be documented..;
#X text 172 269 but you can have a look at the .c file!;
#X text 43 50 linear;
#X text 46 65 exponential;
#X msg 22 89 falloff_mode \$1;
#X obj 22 51 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X obj 22 111 s dbap;
#X obj 165 114 s dbap;
#X floatatom 165 60 5 0 0 0 - - -;
#X msg 165 92 falloff \$1;
#X text 22 28 just for box mode (om2 and om3);
#X text 41 6 DECAY OUTSIDE OF BOX;
#X msg 24 166 getspeakers;
#X obj 24 188 s dbap;
#X text 109 166 get saved speaker positions;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 13 0 14 0;
#X restore 370 217 pd MORE-PARAMETERS;
#N canvas 211 34 450 300 status 0;
#X obj 30 31 inlet;
#X obj 30 76 route int boxspeakers boxdim boxcenter boxcoords boxradius
boxspeakersdim;
#X connect 0 0 1 0;
#X restore 69 123 pd status;
#X text 21 -7 DBAP3D - DISTANCE-BASED AMPLITUDE PANNING;
#X obj 24 101 dbap3d 2;
#X text 547 331 8 speakers -> dual quad;
#X text 565 346 x y z \, x y z \, x y z \, x y z;
#X text 564 367 1 1 1 \, 1 9 1 \, 9 1 1 \, 9 9 1;
#X text 564 387 1 1 9 \, 1 9 9 \, 9 1 9 \, 9 9 9;
#X msg 545 451 speakers 1 1 1 1 9 1 9 1 1 9 9 1 1 1 9 1 9 9 9 1 9 9
9 9;
#X obj 226 125 pack 0 0 0;
#X obj 386 130 pack 0 0 0;
#X floatatom 301 77 5 0 0 0 - - -;
#X obj 302 95 t b f;
#X floatatom 461 82 5 0 0 0 - - -;
#X obj 461 101 t b f;
#X text 770 34 AUDIO DEMO SEE dbap2d;
#X obj 730 525 dbap2d;
#X text 729 503 DBAP 2D:;
#X connect 1 0 55 0;
#X connect 2 0 3 0;
#X connect 3 0 55 0;
#X connect 3 1 55 1;
#X connect 4 0 24 0;
#X connect 8 0 56 0;
#X connect 9 0 10 0;
#X connect 10 0 56 0;
#X connect 10 1 56 1;
#X connect 11 0 23 0;
#X connect 14 0 22 0;
#X connect 17 0 14 0;
#X connect 25 0 49 0;
#X connect 27 0 34 0;
#X connect 28 0 27 0;
#X connect 41 0 54 0;
#X connect 49 0 6 0;
#X connect 49 1 47 0;
#X connect 54 0 21 0;
#X connect 55 0 4 0;
#X connect 56 0 11 0;
#X connect 57 0 58 0;
#X connect 58 0 55 0;
#X connect 58 1 55 2;
#X connect 59 0 60 0;
#X connect 60 0 56 0;
#X connect 60 1 56 2;
